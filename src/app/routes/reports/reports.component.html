<div *ngIf="showingDashboard" class="reports-dashboard">
  <div class="daily-reports">
    <div class="daily-title card">Daily</div>
    <div class="reports-container">
      <div
        (click)="selectReport(report)"
        class="report card"
        *ngFor="let report of dailyReports"
      >
        {{ report.name }}
      </div>
      <div *ngIf="isAdmin" (click)="showingDownloadData = true; showingDashboard = false" class="report card">Download Data</div>
    </div>
  </div>
  <div class="annual-reports">
    <div class="annual-title card">Annual</div>
    <div class="reports-container">
      <div
        class="report card"
        (click)="selectReport(report)"
        *ngFor="let report of annualReports"
      >
        {{ report.name }}
      </div>
    </div>
  </div>
</div>
<div *ngIf="!showingDashboard && !showingDownloadData " class="request-report-form">
  <app-dropdown
    *ngIf="showingYear"
    label="Year"
    [options]="years"
    key="value"
    (selectedDropdownItem)="selectedYear = $event"
  ></app-dropdown>
  <app-dropdown
    *ngIf="showingBases"
    label="Base"
    [options]="bases"
    key="value"
    (selectedDropdownItem)="selectedBase = $event"
  ></app-dropdown>
  <app-dropdown
    *ngIf="showingChutes"
    label="Parachute"
    [options]="jumpers"
    key="fullName"
    (selectedDropdownItem)="selectedChute = $event"
  ></app-dropdown>
  <app-dropdown
    *ngIf="showingJumpers"
    label="Jumper"
    [options]="jumpers"
    key="fullName"
    (selectedDropdownItem)="selectedJumper = $event"
  ></app-dropdown>
  <app-dropdown
    *ngIf="showingSpotters"
    label="Spotter"
    [options]="jumpers"
    key="fullName"
    (selectedDropdownItem)="selectedSpotter = $event"
  ></app-dropdown>
  <app-dropdown
    *ngIf="showingQualifications"
    label="Qualifications"
    [options]="qualifications"
    key="name"
    (selectedDropdownItem)="selectedQualification = $event"
  ></app-dropdown>
  <app-dropdown
    label="File Type"
    [options]="fileTypes"
    key="name"
    (selectedDropdownItem)="selectedFileType = $event.value"
  ></app-dropdown>
  <div class="buttons">
    <app-button
      class="generate-report-button"
      text="Generate Report"
      (clicked)="generateReport()"
    ></app-button>
    <app-button
      class="return-to-dashboard-button"
      text="Return to Reports"
      (clicked)="goToDash()"
    ></app-button>
  </div>
</div>
<div *ngIf="showingDownloadData && !loading" class="request-report-form">
  <app-dropdown
    label="Calendar Year"
    [options]="[{
      name: '2004',
      value: '2004'
    }, {
      name: '2005',
      value: '2005'
    }, {
      name: '2006',
      value: '2006'
    }, {
      name: '2007',
      value: '2007'
    }, {
      name: '2008',
      value: '2008'
    }, {
      name: '2009',
      value: '2009'
    }, {
      name: '2010',
      value: '2010'
    }, {
      name: '2011',
      value: '2011'
    }, {
      name: '2012',
      value: '2012'
    }, {
      name: '2013',
      value: '2013'
    }, {
      name: '2014',
      value: '2014'
    }, {
      name: '2015',
      value: '2015'
    }, {
      name: '2016',
      value: '2016'
    }, {
      name: '2017',
      value: '2017'
    }, {
      name: '2018',
      value: '2018'
    }, {
      name: '2019',
      value: '2019'
    }, {
      name: '2020',
      value: '2020'
    }, {
      name: '2021',
      value: '2021'
    }]"
    key="value"
    (selectedDropdownItem)="selectedYear = $event"
  ></app-dropdown>
  <app-dropdown
    label="Type of Data"
    [options]="[{
      name: 'Incident Info',
      value: 'Incident Info'
    }, {
      name: 'Incident Jumper',
      value: 'Incident Jumper'
    }]"
    key="value"
    (selectedDropdownItem)="selectedFileType = $event"
  ></app-dropdown>
  <a id="download"></a>
  <div class="buttons">
    <app-button
      class="generate-report-button"
      text="Download Data"
      (clicked)="downloadData()"
    ></app-button>
    <app-button
      class="return-to-dashboard-button"
      text="Return to Reports"
      (clicked)="goToDash()"
    ></app-button>
  </div>
</div>
<div *ngIf="showingDownloadData && loading" class="request-report-form">
  <p>Please wait while while the Incident data is being processed...</p>
</div>
