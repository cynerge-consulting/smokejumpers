<div class="table" [ngClass]="showingDetails ? 'showing-details' : ''">
  <div class="row headings" [ngClass]="showingDetails ? 'showing-details' : ''">
    <div *ngFor="let column of columns" class="cell heading">
      <span>{{ column.label }}</span>
    </div>
    <div
      (click)="rowMenu = 'settings'"
      class="heading settings-button"
      [ngClass]="showingDetails ? 'showing-details' : ''"
    >
      â‹®
    </div>
  </div>
  <div
    class="settings-menu"
    *ngIf="rowMenu === 'settings'"
    [ngClass]="showingDetails ? 'showing-details' : ''"
  >
    <div
      class="menu-item"
      (click)="showingDetails = !showingDetails; rowMenu = 'clickmask'"
      [ngClass]="showingDetails ? 'showing-details' : ''"
    >
      {{ showingDetails ? 'Hide' : 'Show' }} Details
    </div>
    <div class="menu-item" (click)="new()">New {{ settings.name }}</div>
    <div class="menu-item" *ngIf="selected" (click)="edit(selected)">
      Edit {{ settings.name }}
    </div>
    <div class="menu-item" *ngIf="selected" (click)="delete(selected)">
      Delete {{ settings.name }}
    </div>
  </div>
  <div class="rows" [ngClass]="showingDetails ? 'showing-details' : ''">
    <div
      *ngFor="let row of rows"
      class="row"
      (click)="selectRow(row)"
      [ngClass]="selected === row ? 'selected' : ''"
    >
      <div *ngFor="let column of columns" class="cell">
        <span>{{ row[column.key] }}</span>
      </div>
    </div>
  </div>
</div>
<div class="details" [ngClass]="showingDetails ? 'showing-details' : ''">
  <span class="none-selected" *ngIf="!selected">Details</span>
  <div class="detail" *ngFor="let detail of details">
    <span class="key">{{ detail.key }}:</span>
    <span class="value"> {{ detail.value }}</span>
  </div>
</div>
<div
  class="clickmask"
  [ngClass]="rowMenu === 'clickmask' ? '' : 'active'"
  (click)="rowMenu = 'clickmask'"
></div>
